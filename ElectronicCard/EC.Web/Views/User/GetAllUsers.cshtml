@model IEnumerable<EC.Entities.Entities.User>

@{
    ViewBag.Title = "Все пользователи";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container">
    <h4 class="text-center text-info">Пользователи</h4>
    <div class="row justify-content-center text-center">
        @foreach (var user in Model)
        {
            <div class="card shadow p-3 mb-5 bg-white rounded" style="width: 18rem; margin-bottom: 20px; margin-right: 20px;">
                @if (user.Photo == null)
                {
                    <img src="~/Content/Images/noPhoto.png" class="card-img-top img-thumbnail" alt="Нет фото" width="200" height="200" />
                }
                else
                {
                    <img src="@Url.Action("GetImage", "Photo", new {login = user.Login})" class="card-img-top" alt="Нет фото" height="200" width="200" />
                }
                <div class="card-body">
                    @if (user.IsDoctor)
                    {
                        <h5 class="card-title">@user.Doctor.FirstName @user.Doctor.LastName</h5>
                        @Html.ActionLink("Подробнее", "UserDetails", "User", new { id = user.Id }, new { @class = "card-link" })
                    }
                    else
                    {
                        <h5 class="card-title">@user.Patient.FirstName @user.Patient.LastName</h5>
                        @Html.ActionLink("Подробнее", "UserDetails", "User", new { id = user.Id }, new { @class = "card-link" })
                    }
                </div>
            </div>
        }
    </div>
</div>

